(window.webpackJsonpnotes=window.webpackJsonpnotes||[]).push([[0],{26:function(e,t,n){e.exports=n(44)},35:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(15),c=n.n(o),l=n(5),i=n(9),s=n(12),u=n(2),m=function(e){return{type:"LOGIN_FAILURE",error:e}},f=(n(35),Object(l.b)(function(e){return{email:e.auth.email,loggedIn:e.auth.loggedIn,token:e.auth.token,error:e.auth.loginError}},function(e){return{onLogin:function(t,n){return e(function(e,t){return function(n){return fetch("https://notes-api1.herokuapp.com/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}).then(function(e){return e.ok?e:Promise.reject(e)}).then(function(t){return t.json().then(function(t){return n(function(e,t){return{type:"LOGIN_SUCCESS",token:e,email:t}}(t.token,e))})}).catch(function(e){return e.json().then(function(e){return n(m(e))})})}}(t,n))},onError:function(t){return e(m(t))}}})(function(e){var t=e.loggedIn,n=(e.token,e.error),o=e.email,c=e.onLogin,l=e.onError,m=Object(r.useState)(o||""),f=Object(u.a)(m,2),p=f[0],d=f[1],E=Object(r.useState)(""),h=Object(u.a)(E,2),g=h[0],b=h[1];return t?a.a.createElement(s.a,{to:"/"}):a.a.createElement("div",{className:"container"},a.a.createElement("h1",{className:"header"},"Log in"),a.a.createElement("form",{className:"form",onSubmit:function(e){return console.log(1),e.preventDefault(),p?g?void c(p,g):l("You must enter password"):l("You must specify email")}},a.a.createElement("div",{className:"form-row"},a.a.createElement("label",{className:"form-label",htmlFor:"email"},a.a.createElement("i",{className:"fas fa-envelope-square"})),a.a.createElement("input",{className:"form-input",type:"email",name:"email",id:"email",placeholder:"Email",value:p,onChange:function(e){return d(e.target.value)}})),a.a.createElement("div",{className:"form-row"},a.a.createElement("label",{className:"form-label",htmlFor:"password"},a.a.createElement("i",{className:"fas fa-lock"})),a.a.createElement("input",{className:"form-input",type:"password",name:"password",id:"password",placeholder:"Password",value:g,onChange:function(e){return b(e.target.value)}})),a.a.createElement("div",{className:"error-msg"},n),a.a.createElement("button",{className:"btn-submit",type:"submit"},"Log In")),a.a.createElement("p",{className:"text"},"Haven't account yet?"),a.a.createElement(i.b,{className:"link",to:"/signup"},"Sign Up"))})),p=function(e){return function(t){return t({type:"FETCHING"}),fetch("https://notes-api1.herokuapp.com/api/notes",{method:"GET",headers:{auth:e}}).then(function(e){return e.ok?e:Promise.reject(e)}).then(function(e){return e.json().then(function(e){return t({type:"FETCH_SUCCESS",notes:e})})}).catch(function(e){return e.json().then(function(e){return t({type:"FETCH_FAILURE",error:e})})})}},d=n(13),E=(n(37),n(38),function(){return a.a.createElement("div",{className:"loader"},a.a.createElement("div",null),a.a.createElement("div",null),a.a.createElement("div",null),a.a.createElement("div",null))}),h=(n(39),Object(l.b)(function(e){return{token:e.auth.token,error:e.data.addError}},function(e){return{onAdd:function(t,n,r){return e(function(e,t,n){return function(r){return fetch("https://notes-api1.herokuapp.com/api/notes",{method:"POST",headers:{"Content-Type":"application/json",auth:e},body:JSON.stringify({title:t,text:n})}).then(function(e){return e.ok?e:Promise.reject(e)}).then(function(t){return t.json().then(function(e){console.log("added:",e),r({type:"ADD_SUCCESS"})}).then(function(){return r(p(e))})}).catch(function(e){return e.json().then(function(e){var t;console.log(e),r({type:"ADD_FAILURE",error:t})})})}}(t,n,r))}}})(function(e){e.error;var t=e.token,n=e.onAdd,o=(e.fetchNotes,Object(r.useState)(!1)),c=Object(u.a)(o,2),l=c[0],i=c[1],s=Object(r.useState)(),m=Object(u.a)(s,2),f=m[0],p=m[1],d=Object(r.useState)(),E=Object(u.a)(d,2),h=E[0],g=E[1];return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"add-note",onClick:function(){return i(!0)}},a.a.createElement("i",{className:"fas fa-plus"})),l&&a.a.createElement("div",{className:"modal"},a.a.createElement("div",{className:"new-note"},a.a.createElement("div",{className:"close",onClick:function(){return i(!1)}},a.a.createElement("i",{class:"far fa-times-circle"})),a.a.createElement("form",{className:"new-note-form",onSubmit:function(e){e.preventDefault(),n(t,f,h),i(!1),g(""),p("")}},a.a.createElement("label",{className:"label",htmlFor:"newtitle"},"Note title"),a.a.createElement("textarea",{id:"newtitle",maxLength:"20",placeholder:"title",value:f,required:!0,onChange:function(e){return p(e.target.value)}}),a.a.createElement("hr",null),a.a.createElement("label",{className:"label",htmlFor:"newtext"},"Note text"),a.a.createElement("textarea",{id:"newtext",placeholder:"text",value:h,required:!0,onChange:function(e){return g(e.target.value)},onKeyDown:function(e){e.target.style.cssText="height:auto;",e.target.style.height=e.target.scrollHeight+"px"}}),a.a.createElement("button",{type:"submit",className:"new-note-btn"},a.a.createElement("i",{className:"fas fa-plus"}))))))}),n(40),Object(l.b)(function(e){return{isFetching:e.data.isFetching,notes:e.data.notes,token:e.auth.token}},function(e){return{fetchNotes:function(t){return e(p(t))},deleteNote:function(t,n){e(function(e,t){return function(n){return fetch("https://notes-api1.herokuapp.com/api/notes/".concat(t),{method:"DELETE",headers:{"Content-Type":"application/json",auth:e}}).then(function(e){return e.ok?e:Promise.reject(e)}).then(function(t){return t.json().then(function(e){console.log("deleted:",e),n({type:"DELETE_SUCCESS"})}).then(function(){return n(p(e))})}).catch(function(e){return e.json().then(function(e){var t;console.log(e),n({type:"DELETE_FAILURE",error:t})})})}}(t,n)),e(p(t))}}})(function(e){e.notes,e.isFetching;var t=e.token,n=e.fetchNotes;e.deleteNote;return Object(r.useEffect)(function(){n(t)},[n,t]),a.a.createElement(a.a.Fragment,null,a.a.createElement(E,null))})),g=(n(41),Object(l.b)(function(e){return{email:e.auth.email,logged:e.auth.loggedIn}},function(e){return{logOut:function(){return e({type:"LOG_OUT"})}}})(function(e){var t=e.email,n=e.logged,r=e.logOut;return a.a.createElement(a.a.Fragment,null,a.a.createElement("header",null,a.a.createElement("div",{className:"logo"},"Notes"),n&&a.a.createElement("div",{className:"profile"},a.a.createElement("div",{className:"border email"},t),a.a.createElement("div",{className:"logout",onClick:r},a.a.createElement("i",{className:"fas fa-sign-out-alt"})))),n?a.a.createElement(h,null):a.a.createElement("div",{className:"box"},a.a.createElement("div",{className:"signup card"},a.a.createElement("h1",{className:"text-opacity"},"Sign Up"),a.a.createElement("p",{className:"text"},"Create account and use our perfect service! You will never forget anything with this notes!"),a.a.createElement(i.b,{className:"link border border-blue",to:"/signup"},"Sign Up")),a.a.createElement("span",{className:"divider"},"or"),a.a.createElement("div",{className:"login card"},a.a.createElement("h1",{className:"text-opacity"},"Log In"),a.a.createElement("p",{className:"text"},"Use notes every day and your life will be much easier!"),a.a.createElement(i.b,{className:"link border border-red",to:"/login"},"Log In"))))})),b=(n(42),Object(l.b)(function(e){return{error:e.auth.signUpError,registered:e.auth.registered}},function(e){return{onSignUp:function(t,n){return e(function(e,t){return function(n){return fetch("https://notes-api1.herokuapp.com/api/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}).then(function(e){return e.ok?e:Promise.reject(e)}).then(function(t){return t.json().then(function(t){return n(function(e){return{type:"SIGNUP_SUCCESS",email:e}}(e))})}).catch(function(e){return e.json().then(function(e){return n({type:"SIGNUP_FAILURE",error:e})})})}}(t,n))}}})(function(e){var t=e.error,n=e.registered,o=e.onSignUp,c=Object(r.useState)(""),l=Object(u.a)(c,2),m=l[0],f=l[1],p=Object(r.useState)(""),d=Object(u.a)(p,2),E=d[0],h=d[1];return n?a.a.createElement(s.a,{to:"/login"}):a.a.createElement("div",{className:"container"},a.a.createElement("h1",{className:"header"},"Sign Up"),a.a.createElement("h4",{className:"subheader text-opacity"},"Create new account!"),a.a.createElement("form",{className:"form",onSubmit:function(e){e.preventDefault(),o(m,E)}},a.a.createElement("div",{className:"form-row"},a.a.createElement("label",{className:"form-label",htmlFor:"email"},a.a.createElement("i",{className:"fas fa-envelope-square"})),a.a.createElement("input",{className:"form-input",type:"email",name:"email",id:"email",placeholder:"Email",onChange:function(e){return f(e.target.value)}})),a.a.createElement("div",{className:"form-row"},a.a.createElement("label",{className:"form-label",htmlFor:"password"},a.a.createElement("i",{className:"fas fa-lock"})),a.a.createElement("input",{className:"form-input",type:"password",name:"password",id:"password",placeholder:"Password",onChange:function(e){return h(e.target.value)}})),a.a.createElement("div",{className:"error-msg"},t),a.a.createElement("button",{className:"btn-submit",type:"submit"},"Sign Up")),a.a.createElement("p",{className:"text-opacity"},"Already have account?"),a.a.createElement(i.b,{className:"link",to:"/login"},"Log In"))}));n(43);var N=function(){return a.a.createElement(i.a,null,a.a.createElement(s.b,{exact:!0,path:"/",component:g}),a.a.createElement(s.b,{path:"/signup",component:b}),a.a.createElement(s.b,{path:"/login",component:f}))},O=n(11);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(n,!0).forEach(function(t){Object(d.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var j={loggedIn:!1,registered:!1};function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(n,!0).forEach(function(t){Object(d.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var C={isFetching:!1,fetchError:null,notes:[]},k=Object(O.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_FAILURE":return y({},e,{loggedIn:!1,loginError:t.error});case"LOGIN_SUCCESS":return y({},e,{loggedIn:!0,token:t.token,error:null,email:t.email});case"SIGNUP_FAILURE":return y({},e,{signUpError:t.error});case"SIGNUP_SUCCESS":return y({},e,{registered:!0,loggedIn:!1,email:t.email});case"LOG_OUT":return y({},e,{loggedIn:!1,email:null,token:null});default:return e}},data:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCHING":return w({},e,{isFetching:!0});case"FETCH_SUCCESS":return w({},e,{isFetching:!1,notes:t.notes});case"FETCH_FAILURE":return w({},e,{isFetching:!1,fetchError:t.error});case"ADD_FAILURE":return w({},e,{addError:t.error});case"DELETE_FAILURE":return w({},e,{deleteError:t.error});default:return e}}}),I=n(25),U=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||O.d,F=Object(O.e)(k,U(Object(O.a)(I.a)));c.a.render(a.a.createElement(l.a,{store:F},a.a.createElement(N,null)),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.d19f49ff.chunk.js.map